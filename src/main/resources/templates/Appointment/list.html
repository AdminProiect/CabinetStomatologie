<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<meta charset="utf-8"></meta>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" /></meta>
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content=""></meta>
<meta name="author" content=""></meta>
<link rel="icon" href="../../favicon.ico"></link>
 <script type="text/javascript" src="http://code.jquery.com/jquery-1.6.js"></script>
 
<title>List Appointments</title>

<!-- Bootstrap core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"></link>

<!-- Custom styles for this template -->
<link href="css/main.css" rel="stylesheet"></link>

<style>
th, td{
	height: 1px;
}

p {	font-size:80%;
	text-align:center;
}
</style>

</head>

<body>
	<div th:replace="fragments/header :: header"></div>
	<div th:replace="fragments/menu :: sidemenu"></div>

	<div class="container">
		<h2>Bordered Table</h2>
		<a href="/appointment/add" style="float:right;margin-right:50px">
    		<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
    	</a>
		
		<table class="table table-bordered" id="shadular">
			
			<thead>
				<tr>
					<th></th>
					<th>Luni</th>
					<th>Marti</th>
					<th>Miercuri</th>
					<th>Joi</th>
					<th>Vineri</th>
					<th>Sambata</th>
					<th>Duminica</th>
					
				</tr>
			</thead>
			
			<tbody >
					
					<a th:each="elem : ${appointments}">
					<a th:if="${elem.key % width == 0}">
						<tr></tr>
						<td>
							<p th:text="${elem.key / width / 4} + ':' +${((elem.key / width) % 4 )*15}"/>
						</td>
					</a>
					<th th:if="${elem.key % width != 0 and elem.value != null}" rowspan="1"> 
						<p th:if="${elem.value != null}" th:text="${#dates.format(elem.value.startDate, 'dd-MM-yyyy   HH:mm')} + ' - ' + ${#dates.format(elem.value.endDate, 'HH:mm')}"/>
						<p th:if="${elem.value != null}" th:text="${elem.value.pacient}"/>
					</th>
					<th th:if="${elem.key % width != 0 and elem.value == null}" > 
						<p th:if="${elem.value != null}" th:text="${#dates.format(elem.value.startDate, 'dd-MM-yyyy   HH:mm')} + ' - ' + ${#dates.format(elem.value.endDate, 'HH:mm')}"/>
						<p th:if="${elem.value != null}" th:text="${elem.value.pacient}"/>
					</th>
				</a>  
			
			</tbody>
		</table>
		
	</div>
	

	<footer class="footer">
		<div class="container">
			<div th:replace="fragments/footer :: footer">Programari.</div>
		</div>
	</footer>
	<!-- /container -->


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/check.js"></script>

</body>
</html>

